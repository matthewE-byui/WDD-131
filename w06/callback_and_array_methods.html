<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Interactive Web Accessibility & Design Study Tool ‚Äî Matthew Edgar</title>
  <meta name="description" content="Practice web accessibility and design principles with live, interactive examples: contrast checker, alt-text editor, keyboard nav demo, ARIA examples, quizzes, and downloadable exercises." />
  <style>
    :root{
      --bg:#0f1720; --card:#0b1320; --muted:#9aa4b2; --accent:#00c3d0; --success:#4caf50; --danger:#ff6b6b;
      --radius:12px; --pad:18px; font-family:Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:linear-gradient(180deg,#071120 0%, #08171f 100%); color:#e6eef6; padding:28px; -webkit-font-smoothing:antialiased
    }
    header{display:flex;gap:18px;align-items:center;justify-content:space-between}
    h1{font-size:20px;margin:0}
    p.lead{margin:6px 0 0;color:var(--muted)}
    main{display:grid;grid-template-columns:1fr 420px;gap:20px;margin-top:20px}
    .card{background:var(--card);border-radius:var(--radius);padding:var(--pad);box-shadow:0 6px 20px rgba(2,6,23,0.6)}
    section.card h2{margin:0 0 8px;font-size:16px;color:var(--accent)}
    ul{margin:8px 0 0 18px;color:var(--muted)}

    /* playground styles */
    .playground{display:flex;flex-direction:column;gap:12px}
    .row{display:flex;gap:12px}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    input[type=text], textarea, select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
    button, .btn{background:var(--accent);border:none;color:#001;padding:8px 10px;border-radius:8px;cursor:pointer}
    button.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
    .muted{color:var(--muted)}
    .small{font-size:13px}

    /* live preview */
    #preview{background:#fff;border-radius:10px;color:#111;padding:16px;height:260px;overflow:auto}

    /* contrast table */
    .contrast-row{display:flex;align-items:center;gap:12px;padding:8px;border-radius:8px}
    .swatch{width:56px;height:40px;border-radius:6px;border:1px solid rgba(0,0,0,0.06)}
    .contrast-result{margin-left:auto;font-weight:600}

    /* quizzes */
    .quiz-item{margin-top:8px}
    .result{margin-top:8px;font-weight:700}

    footer{margin-top:18px;color:var(--muted);font-size:13px}

    /* responsive */
    @media (max-width:980px){main{grid-template-columns:1fr;}}
  </style>
</head>
<body>
  <header>
    <div>
      <h1>Interactive Web Accessibility & Design Study Tool</h1>
      <p class="lead">Practice examples for accessibility + design principles ‚Äî live editing, checks, and quizzes.</p>
    </div>
    <div>
      <button id="downloadBtn" class="btn">Download HTML</button>
    </div>
  </header>

  <main>
    <!-- Left: Lessons and Playground -->
    <div>
      <section class="card" aria-labelledby="a11y-title">
        <h2 id="a11y-title">üåê Accessibility Basics</h2>
        <p class="muted">Understand core concepts and try the interactive playground below.</p>
        <ul>
          <li>Use semantic HTML (&lt;main&gt;, &lt;nav&gt;, &lt;header&gt;).</li>
          <li>Provide alternative text for non-text content (<code>alt</code>).</li>
          <li>Ensure keyboard accessibility and visible focus.</li>
          <li>Provide captions/transcripts for audio/video.</li>
          <li>Use ARIA only when native HTML isn't sufficient.</li>
        </ul>
      </section>

      <section class="card" aria-labelledby="play-title" style="margin-top:16px">
        <h2 id="play-title">üîß Interactive Playground</h2>
        <p class="muted small">Change inputs and see an accessible snippet update in the preview. Try keyboard navigation and run contrast checks.</p>

        <div class="playground">
          <div>
            <label for="imgSrc">Image source (URL)</label>
            <input id="imgSrc" type="text" placeholder="https://example.com/photo.jpg" value="https://placehold.co/600x200.png?text=Accessible+Image">
          </div>

          <div>
            <label for="imgAlt">Image alt text (what screen readers read)</label>
            <input id="imgAlt" type="text" placeholder="Describe the image..." value="A scenic mountain trail with a cyclist">
          </div>

          <div class="row">
            <div style="flex:1">
              <label for="btnText">Button label (visible + accessible)</label>
              <input id="btnText" type="text" value="Learn More">
            </div>
            <div style="width:140px">
              <label for="roleSelect">ARIA role (optional)</label>
              <select id="roleSelect">
                <option value="">None (use native)</option>
                <option value="button">role="button"</option>
                <option value="navigation">role="navigation"</option>
                <option value="region">role="region"</option>
              </select>
            </div>
          </div>

          <div>
            <label for="caption">Caption / figcaption (optional)</label>
            <input id="caption" type="text" placeholder="Short caption for the image" value="Sunrise over the valley">
          </div>

          <div style="display:flex;gap:10px;align-items:center">
            <button id="renderBtn" class="btn">Render Preview</button>
            <button id="focusDemo" class="secondary">Start Keyboard Focus Demo</button>
            <div class="muted small">Tip: use <kbd>Tab</kbd> to move focus in the preview.</div>
          </div>

          <div id="preview" tabindex="0" aria-live="polite" aria-label="Live preview area">
            <!-- live preview injected here -->
          </div>

        </div>
      </section>

      <section class="card" style="margin-top:16px" aria-labelledby="contrast-title">
        <h2 id="contrast-title">üîç Contrast Checker</h2>
        <p class="muted small">Enter foreground and background colors (hex) to compute the WCAG contrast ratio and level.</p>
        <div class="row">
          <div style="flex:1">
            <label for="fg">Foreground color (hex)</label>
            <input id="fg" type="text" value="#0b3d91">
          </div>
          <div style="flex:1">
            <label for="bg">Background color (hex)</label>
            <input id="bg" type="text" value="#ffffff">
          </div>
          <div style="width:120px;align-self:end">
            <button id="checkContrast" class="btn">Check</button>
          </div>
        </div>

        <div id="contrastResults" style="margin-top:12px"></div>
      </section>

      <section class="card" style="margin-top:16px" aria-labelledby="forms-title">
        <h2 id="forms-title">üßæ Form Labeling Practice</h2>
        <p class="muted small">Fix missing labels ‚Äî try the auto-check button to see issues reported.</p>
        <form id="sampleForm">
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
            <div>
              <label for="nameInput">Full name</label>
              <input id="nameInput" type="text" placeholder="Your name">
            </div>
            <div>
              <!-- Intentional: missing label to practice detection -->
              <label class="muted" for="emailInput">Email (example)</label>
              <input id="emailInput" type="email" placeholder="you@example.com">
            </div>
          </div>
          <div style="margin-top:10px">
            <label for="message">Message</label>
            <textarea id="message" rows="3" placeholder="Write something..."></textarea>
          </div>
          <div style="margin-top:10px;display:flex;gap:8px">
            <button type="button" id="formCheck" class="btn">Check Form Accessibility</button>
            <button type="reset" class="secondary">Reset</button>
          </div>
          <div id="formIssues" class="result"></div>
        </form>
      </section>

      <section class="card" style="margin-top:16px" aria-labelledby="quiz-title">
        <h2 id="quiz-title">üß† Quizzes</h2>
        <div class="quiz-item">
          <label class="small">Q1: Which attribute provides a textual description for an &lt;img&gt;?</label>
          <input id="q1" type="text">
          <div class="result" id="q1r"></div>
        </div>
        <div class="quiz-item">
          <label class="small">Q2: Minimum contrast ratio recommended for normal text (WCAG AA)?</label>
          <input id="q2" type="text">
          <div class="result" id="q2r"></div>
        </div>
        <div style="margin-top:8px;display:flex;gap:8px">
          <button id="submitQuiz" class="btn">Submit Answers</button>
          <button id="showAnswers" class="secondary">Show Answers</button>
        </div>
      </section>

      <footer>
        ¬© 2025 Matthew Edgar ‚Äî All rights reserved. This interactive study tool is for learning and testing accessibility & design principles.
      </footer>
    </div>

    <!-- Right: Reference + Resources -->
    <aside>
      <section class="card" aria-labelledby="ref-title">
        <h2 id="ref-title">Quick Reference</h2>
        <p class="muted small">Short rules to remember:</p>
        <ul>
          <li>Semantic HTML > ARIA when possible.</li>
          <li>Keyboard first: tab order, visible focus, skip links.</li>
          <li>Contrast: 4.5:1 for normal text, 3:1 for large text (WCAG AA).</li>
          <li>Use captions for audio/video; transcripts for podcasts.</li>
        </ul>
      </section>

      <section class="card" style="margin-top:16px" aria-labelledby="tools-title">
        <h2 id="tools-title">Tools & Further Reading</h2>
        <ul>
          <li><a href="https://www.w3.org/WAI/standards-guidelines/wcag/" target="_blank" rel="noopener">WCAG Guidelines</a></li>
          <li><a href="https://wave.webaim.org/" target="_blank" rel="noopener">WAVE</a></li>
          <li><a href="https://developer.chrome.com/docs/lighthouse/" target="_blank" rel="noopener">Lighthouse</a></li>
          <li><a href="https://www.deque.com/axe/" target="_blank" rel="noopener">axe DevTools</a></li>
        </ul>
      </section>

      <section class="card" style="margin-top:16px" aria-labelledby="design-title">
        <h2 id="design-title">Design Principles</h2>
        <ul>
          <li>Hierarchy ‚Äî show what matters first.</li>
          <li>Alignment & proximity ‚Äî organize visual relationships.</li>
          <li>Contrast & color ‚Äî emphasize and create readable text.</li>
          <li>White space ‚Äî improve scannability.</li>
        </ul>
      </section>
    </aside>
  </main>

  <script>
    // Utility: safe color parsing and luminance/contrast calculation
    function hexToRgb(hex) {
      if (!hex) return null;
      hex = hex.replace('#','');
      if(hex.length===3) hex = hex.split('').map(c=>c+c).join('');
      const num = parseInt(hex,16);
      return {r:(num>>16)&255,g:(num>>8)&255,b:num&255};
    }
    function srgbToLin(c){c=c/255;return c<=0.03928?c/12.92:Math.pow((c+0.055)/1.055,2.4)}
    function luminance(hex){const rgb=hexToRgb(hex);if(!rgb)return 0;return 0.2126*srgbToLin(rgb.r)+0.7152*srgbToLin(rgb.g)+0.0722*srgbToLin(rgb.b)}
    function contrastRatio(a,b){const L1=luminance(a);const L2=luminance(b);const light=Math.max(L1,L2);const dark=Math.min(L1,L2);return ((light+0.05)/(dark+0.05));}

    // Render preview function
    function renderPreview(){
      const src = document.getElementById('imgSrc').value.trim();
      const alt = document.getElementById('imgAlt').value.trim();
      const caption = document.getElementById('caption').value.trim();
      const btnText = document.getElementById('btnText').value.trim() || 'Learn';
      const role = document.getElementById('roleSelect').value;

      const wrapper = document.createElement('figure');
      wrapper.style.margin=0;
      const img = document.createElement('img');
      img.src = src || 'https://placehold.co/600x200.png?text=No+Image';
      img.width = 560;
      img.alt = alt || '';
      img.style.maxWidth='100%'; img.style.height='auto'; img.style.display='block'; img.style.borderRadius='8px';

      const figcap = document.createElement('figcaption');
      figcap.textContent = caption;
      figcap.style.color='#334455'; figcap.style.fontSize='13px'; figcap.style.marginTop='8px';

      const btn = document.createElement('button');
      btn.textContent = btnText;
      btn.style.marginTop='10px'; btn.style.padding='8px 12px'; btn.style.borderRadius='8px'; btn.style.cursor='pointer';

      if(role) btn.setAttribute('role', role);

      // Accessible name demonstration: aria-label if text is short
      if(btnText.length<1) btn.setAttribute('aria-label','Action button');

      // Clear and append
      const preview = document.getElementById('preview');
      preview.innerHTML = '';
      wrapper.appendChild(img);
      if(caption) wrapper.appendChild(figcap);
      wrapper.appendChild(btn);
      preview.appendChild(wrapper);

      // Make interactive focus styles for demo
      btn.addEventListener('click',()=>alert('Button activated (simulated).'));
    }

    // Contrast check UI
    document.getElementById('checkContrast').addEventListener('click',()=>{
      const fg = document.getElementById('fg').value.trim();
      const bg = document.getElementById('bg').value.trim();
      try{
        const ratio = contrastRatio(fg,bg);
        const rounded = Math.round(ratio*100)/100;
        let level = 'Fail (below AA)';
        if(rounded>=7) level = 'AAA (Excellent)';
        else if(rounded>=4.5) level = 'AA (Pass for normal text)';
        else if(rounded>=3) level = 'AA Large Text (Pass for large text)';
        const el = document.getElementById('contrastResults');
        el.innerHTML = `<div class=\"contrast-row\" style=\"background:linear-gradient(90deg,${fg} 0%, ${bg} 100%);padding:12px;border-radius:8px\">`+
          `<div class=\"swatch\" style=\"background:${fg};border:1px solid rgba(0,0,0,0.06)\"></div>`+
          `<div class=\"muted\">Foreground: <strong>${fg}</strong> ‚Äî Background: <strong>${bg}</strong></div>`+
          `<div class=\"contrast-result\">Ratio: ${rounded}:1 ‚Äî ${level}</div></div>`;
      }catch(e){document.getElementById('contrastResults').textContent='Invalid hex colors.'}
    });

    // Form check: ensure labels match inputs
    document.getElementById('formCheck').addEventListener('click',()=>{
      const issues = [];
      const form = document.getElementById('sampleForm');
      const inputs = form.querySelectorAll('input,textarea,select');
      inputs.forEach(inp=>{
        const id = inp.id;
        if(!id){issues.push('An input is missing an id.');return}
        const label = form.querySelector(`label[for="${id}"]`);
        if(!label) issues.push(`No label found for input with id="${id}".`);
      });
      const out = document.getElementById('formIssues');
      if(issues.length===0){out.textContent='‚úÖ No issues found.'; out.style.color='var(--success)'}
      else{out.innerHTML=issues.map(i=>`‚Ä¢ ${i}`).join('<br>'); out.style.color='var(--danger)'}
    });

    // Keyboard focus demo: instruct user and focus preview root
    document.getElementById('focusDemo').addEventListener('click',()=>{
      const preview = document.getElementById('preview');
      preview.focus();
      alert('Keyboard focus demo started. Use Tab to navigate focusable elements inside the preview area.');
    });

    // Quizzes
    document.getElementById('submitQuiz').addEventListener('click',()=>{
      const a1 = document.getElementById('q1').value.trim().toLowerCase();
      const a2 = document.getElementById('q2').value.trim();
      document.getElementById('q1r').textContent = (a1==='alt' || a1==='alt text')? '‚úÖ Correct!':'‚ùå Try again.';
      document.getElementById('q2r').textContent = (a2==='4.5' || a2==='4.5:1' || a2==='4.5:1 (aa)')? '‚úÖ Correct!':'‚ùå Answer: 4.5:1 for normal text.';
    });
    document.getElementById('showAnswers').addEventListener('click',()=>{
      document.getElementById('q1r').textContent='Answer: alt (alt text)';
      document.getElementById('q2r').textContent='Answer: 4.5:1 (WCAG AA for normal text)';
    });

    // Render button
    document.getElementById('renderBtn').addEventListener('click',()=>{try{renderPreview()}catch(e){console.error(e)}});
    // Initial render
    renderPreview();

    // Download current HTML file (serialize document)
    document.getElementById('downloadBtn').addEventListener('click',()=>{
      const html = `<!doctype html>
${document.documentElement.outerHTML}`;
      const blob = new Blob([html],{type:'text/html'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'web-accessibility-study.html';
      document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    });

    // Accessibility: enable keyboard-visible focus styles inside preview
    document.addEventListener('keydown',(e)=>{
      if(e.key==='Tab') document.documentElement.classList.add('show-focus');
    });
  </script>
</body>
</html>
